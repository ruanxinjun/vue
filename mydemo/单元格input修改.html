<!DOCTYPE html>
<html>
<head>
	<meta charset=utf-8>
	<meta name=description content="">
	<meta name=viewport content="width=device-width, initial-scale=1">
	<title></title>
	<script src="lib/vue.js"></script>
	<link rel="stylesheet" type="text/css" href="lib/bootstrap.min.css"/>
</head>
<body>
<div id="box" class="container">
<div class="well">
{{apptitle}} --- 员工信息列表
</div>
<ol class="breadcrumb">
	<li>
		<a href="#" class="btn btn-sm btn-danger" @click="delall">删除</a>
	</li>
	<li>
		<a href="#" class="btn btn-sm btn-success">录入新员工</a>
	</li>
	<li>
	<input type="search"  id="skey"  width="200"><a href="#" class="btn btn-sm btn-info">员工搜索</a>
	</li>

</ol>
<table class="table table-hover table-striped">
	<thead>
		<tr class="alert alert-success">
			<th><input type="checkbox"  :checked="allcheck?true:false" @click="checkall($event)"></th>
			<th>姓名</th>
			<th>工资</th>
			<th>编辑</th>
		</tr>
	</thead>
	<tbody>
		<tr v-for="(user,index) of users">
			<td><input type="checkbox" :value="user.id" :checked="user.checked"></td>
			<td>{{user.name}}</td>
			<td>{{user.salary}}</td>
			<td>
				<button type="button" class="btn btn-info">编辑</button>
				<button type="button" class="btn btn-warning" @click="delsin(index)">删除</button>
			</td>
		</tr>
	</tbody>
</table>
</div>
<script>
	var app = new Vue({
		el:'#box',
		data:function(){
			return {
				allcheck:false,
				apptitle:'单元格input修改',
				selidarr:[],
				users:[
					{id:1,name:'阮新军',salary:1500,checked:false},
					{id:2,name:'别毛风',salary:2500,checked:false},
					{id:3,name:'李小鲁',salary:3000,checked:false}
				]
			}
		},
		methods:{
			checkall:function(event){

				this.selidarr = [];
				var _selidarr = this.selidarr;

				if(event.currentTarget.checked){
					this.allcheck=true;
					this.users.forEach(function(item){
						item.checked=true;
						_selidarr.push(item.id);
					});
					this.selidarr=_selidarr;
				}else{
					this.allcheck=false;
					this.users.forEach(function(item){
						item.checked=false;
					});
				}
			},
			delall:function(){
				this.selidarr = [];
				this.users = [];
			},
			delsin:function(index){
				this.users.splice(index,1);
			}
		}
	});
</script>
</body>
</html>